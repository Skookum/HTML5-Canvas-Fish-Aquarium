<html>
    <head>
        <title>Plenty of Fish</title>
        <link rel="stylesheet" href="fish.css" type="text/css">
    </head>
    <body>
    
		<canvas id="view" width="1000" height="500"></canvas>
		
        <script type="text/javascript" src="jim.js"></script>
		<script type="text/javascript" src="hunter.js"></script>

		<script type="text/javascript">

			var view = new View('view');
            
			var sea = new Sea(view.canvas.width, view.canvas.height);
			sea.prepare();
			sea.render(view.ctx);
            
            var aquarium = new Aquarium(view.canvas.width, view.canvas.height);
            aquarium.prepare();
			aquarium.render(view.ctx);
			
			for (var x = 0; x < 5; x++) {
				for (var y = 0; y < 3; y++) {
					var fish = new Fish(50 + 200 * x, 50 + 150 * y, 120, 100);
				}
			}
			
			
			aquarium.render(sea.canvas.getContext('2d'));	// Draw transparent aquarium onto water background
			
			var frame = 0;
			function main() {
				frame = (frame + 1) % Fish.frames;
				sea.render(view.ctx);
				for (var i in Fish.all) {
					Fish.all[i].render(view.ctx, frame);
				}
			}
			
			setInterval(main, 1000 / 45);

		</script>

	</body>
</html>